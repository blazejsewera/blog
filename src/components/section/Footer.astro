---
import type { ArticleInfo } from '../article/articleInfo'
import Icon from '../atom/Icon.astro'
import { blogSiteRoot } from '../const/meta'
import { cx } from '../util/classes'

export interface Props {
  license: string
  author: string
  year: string
  source?: string
  previous?: ArticleInfo
  next?: ArticleInfo
}

const { license, author, year, source, previous, next } = Astro.props
---

<div class="py-8">
  <div
    class={cx('grid', 'grid-cols-1', 'md:grid-cols-3', 'items-center', 'mb-6')}
  >
    {
      previous ? (
        <a
          id="footer-previous-article"
          class={cx(
            'flex',
            'mx-auto',
            'md:mr-1',
            'py-4',
            'md:py-0',
            'pl-4',
            'order-2',
            'md:order-1',
            'text-neutral-600',
          )}
          href={previous.url}
        >
          <Icon
            cl={cx('inline-block', 'my-auto', 'mr-2')}
            icon="arrow-left"
            size="1rem"
          />
          {previous.title}
        </a>
      ) : (
        <div class={cx('order-2', 'md:order-1')} />
      )
    }
    <a
      class={cx('mx-auto', 'block', 'order-3', 'md:order-2')}
      href={blogSiteRoot}
      title="Blog home"
    >
      <img src="/logo-black.svg" alt="Blog home" />
    </a>
    {
      next ? (
        <a
          id="footer-next-article"
          class={cx(
            'flex',
            'mx-auto',
            'md:ml-1',
            'py-4',
            'md:py-0',
            'pr-4',
            'order-1',
            'md:order-3',
            'text-neutral-600',
          )}
          href={next.url}
        >
          {next.title}
          <Icon
            cl={cx('inline-block', 'my-auto', 'ml-2')}
            icon="arrow-right"
            size="1rem"
          />
        </a>
      ) : (
        <div class={cx('order-1', 'md:order-3')} />
      )
    }
  </div>
  <div class="flex">
    <div class={cx('mx-auto', 'mb-7', 'text-2xs', 'md:text-xs')}>
      <div>
        {`${license} – ${year} – ${author}`}
      </div>
      {
        source && (
          <div class={cx('ml-1.5', 'mt-4', 'md:ml-2', 'md:mt-2')}>
            <a href={source} target="_blank">
              Source for this page on Github
              <Icon
                cl={cx('inline-block', 'align-super')}
                size="0.5rem"
                icon="external-link"
              />
            </a>
          </div>
        )
      }
    </div>
  </div>
</div>
