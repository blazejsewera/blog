---
import { toArticleInfo } from '../components/article/articleInfo'
import Listing from '../layouts/Listing.astro'

const articles = await Astro.glob('./*.md')
---

<Listing
  articles={articles.map(toArticleInfo)}
  title="Welcome to Astro."
  description=""
  imgUrl=""
  imgDescription=""
/>

<script>
  import {
    menuId,
    closeMenuId,
    menuVisibleCx,
    menuInvisibleCx,
  } from '../components/navigation/Menu'

  const closeMenu = document.getElementById(closeMenuId)
  const menu = document.getElementById(menuId)

  closeMenu?.addEventListener('click', () => {
    menu?.classList.remove(...menuVisibleCx)
    menu?.classList.add(...menuInvisibleCx)
  })
</script>

<style>
  a {
    text-decoration: none;
    color: #333;
  }
</style>
